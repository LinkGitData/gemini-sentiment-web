<!DOCTYPE html>
<html>
<head>
    <title>文字情感分析</title>
</head>
<body>
    <h1>文字情感分析</h1>
    <form method="POST" action="/analyze">
        <textarea name="text" rows="10" cols="50" placeholder="請輸入文字，最多 500 字"></textarea><br>
        <div id="processed-text"></div>
        <button type="submit">分析</button>
    </form>
    <script>
        // 監聽表單提交事件
        document.querySelector('form').addEventListener('submit', function(event) {
            // 取得文字輸入框的值
            const textInput = document.querySelector('textarea[name="text"]').value;

            // 移除換行符和空白字元，並將文字整合成一行
            const processedText = textInput.replace(/\s+/g, ' ');

            // 將處理後的文字顯示在 div 中
            document.getElementById('processed-text').innerHTML = '處理後的文字：' + processedText;

            // 延遲提交表單
            setTimeout(function() {
                // 提交表單
                event.target.submit();
            }, 5000); // 延遲 1 秒
        });
    </script>
</body>
</html>
